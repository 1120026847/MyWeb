<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>æ™ºèƒ½å•è¯è®°å¿†ç³»ç»Ÿ Â· äº‘ç«¯åŒæ­¥ç‰ˆ</title>
  <style>
    :root{--primary:#4CAF50;--blue:#2196F3;--red:#f44336;}
    *{box-sizing:border-box}
    body{margin:0;min-height:100vh;display:flex;flex-direction:column;background:#f5f5f5;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,'PingFang SC','Noto Sans SC','Microsoft Yahei',sans-serif;color:#222}
    header{display:flex;align-items:center;justify-content:space-between;padding:12px 16px;background:#fff;border-bottom:1px solid #eee;position:sticky;top:0;z-index:5}
    .app-title{font-weight:800}
    .auth{display:flex;gap:8px;align-items:center}
    .auth input{padding:8px 10px;border:1px solid #ddd;border-radius:8px;min-width:160px}
    .btn{padding:10px 16px;border-radius:8px;border:1px solid #e1e1e1;background:#fff;cursor:pointer}
    .btn.primary{background:var(--primary);color:#fff;border-color:var(--primary)}
    .pill{padding:4px 8px;border:1px solid #e1e1e1;border-radius:999px;font-size:12px;color:#666}

    .main{flex:1;max-width:880px;margin:20px auto;padding:20px;background:#fff;border-radius:14px;box-shadow:0 10px 20px rgba(0,0,0,.06)}
    .toolbar{display:flex;gap:8px;align-items:center;flex-wrap:wrap;margin-bottom:10px}
    .word-display{text-align:center;font-size:5em;margin:40px 0;min-height:120px;line-height:1.2}
    .meaning-display{text-align:center;font-size:3.2em;color:var(--blue);margin:30px 0;min-height:80px;display:none;line-height:1.3}
    .action-buttons{display:flex;justify-content:center;gap:12px;margin:40px 0}
    #knowBtn,#dontKnowBtn,#showMeaningBtn,#restartBtn{padding:18px 36px;font-size:22px;min-width:160px;border:0;color:#fff;border-radius:10px}
    #restartBtn{display:none;background:var(--blue)}
    #knowBtn{background:var(--primary)}
    #dontKnowBtn{background:var(--red)}
    #showMeaningBtn{background:var(--blue)}

    #progressBar{width:80%;height:12px;background:#ddd;border-radius:6px;margin:30px auto 20px}
    #progress{height:100%;background:var(--primary);transition:width .3s;border-radius:6px}

    .modal{display:none;position:fixed;inset:0;align-items:center;justify-content:center;background:rgba(0,0,0,.45);z-index:50}
    .dialog{background:#fff;padding:24px;border-radius:12px;min-width:420px;max-width:92vw}
    .dialog textarea{width:100%;height:180px;margin:12px 0;padding:12px;font-size:15px;border:2px solid #ddd;border-radius:10px;resize:vertical;line-height:1.6}
    .dialog-actions{display:flex;gap:10px;justify-content:flex-end;margin-top:10px}
    .warning-text{color:#d33}

    .control-group{display:flex;gap:10px;justify-content:center;margin:10px 0;flex-wrap:wrap}
    #emptyMsg{text-align:center;margin:40px 0;font-size:1.6em;color:#666}
  </style>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body>
  <header>
    <div class="app-title">ğŸ“š æ™ºèƒ½å•è¯è®°å¿†ç³»ç»Ÿ</div>
    <div class="auth">
      <div id="signed-out">
        <input type="email" id="email" placeholder="é‚®ç®±"/>
        <input type="password" id="password" placeholder="å¯†ç ï¼ˆâ‰¥6ä½ï¼‰"/>
        <button class="btn" id="btnSignUp">æ³¨å†Œ</button>
        <button class="btn primary" id="btnSignIn">ç™»å½•</button>
      </div>
      <div id="signed-in" style="display:none;gap:8px;align-items:center">
        <span cl
